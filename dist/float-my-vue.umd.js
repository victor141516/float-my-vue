(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.FloatMyVue={},s.Vue))})(this,function(s,e){"use strict";const h={class:"relative"},m={key:0,class:"absolute"},y=e.defineComponent({__name:"FloatMyVue",props:{color:{default:"dark"},arrowSize:{default:10},offset:{default:()=>({x:0,y:0})},side:{default:"top"},open:{type:Boolean,default:!1}},emits:["open","close"],setup(c){const o=c,r=e.computed(()=>{const t=Object.assign({x:0,y:0},o.offset);return(o.side==="top"||o.side==="bottom")&&(t.x-=2),t}),d=e.ref(!1);e.watch(()=>o.open,t=>d.value=t,{immediate:!0});const l=e.ref(null),n=e.ref(null),p=e.reactive({width:0,height:0}),a=e.reactive({width:0,height:0}),i={};e.watch(()=>l.value,()=>{if(l.value){if(i.tooltip)return;const t=new ResizeObserver(()=>{l.value&&(p.width=l.value.clientWidth,p.height=l.value.clientHeight)});t.observe(l.value),i.tooltip=()=>l.value&&t.unobserve(l.value)}else i.tooltip?.(),i.tooltip=void 0},{immediate:!0}),e.watch(()=>n.value,()=>{if(n.value&&!i.reference){const t=new ResizeObserver(()=>{a.width=n.value.clientWidth,a.height=n.value.clientHeight});t.observe(n.value),i.reference=()=>t.unobserve(n.value)}},{immediate:!0}),e.onBeforeUnmount(()=>{i.tooltip?.(),i.reference?.()});const f=e.computed(()=>{const t={arrow:{x:0,y:0},tooltip:{x:0,y:0}};return o.side==="top"||o.side==="bottom"?(t.arrow.x=-1*(o.arrowSize-a.width/2+r.value.x),t.arrow.y=-1*(o.arrowSize+(o.side==="top"?a.height:0)+r.value.y),t.tooltip.x=-1*(p.width/2-a.width/2+r.value.x),o.side==="top"?t.tooltip.y=-1*(a.height+p?.height+o.arrowSize+r.value.y-1):t.tooltip.y=-1*(r.value.y-o.arrowSize)):(t.arrow.x=-1*(o.arrowSize-(o.side==="right"?a.width:0)+r.value.x),t.arrow.y=-1*(o.arrowSize+a.height/2+r.value.x),o.side==="right"?t.tooltip.x=-1*(r.value.x-a.width-o.arrowSize):t.tooltip.x=-1*(p.width+o.arrowSize+r.value.x),t.tooltip.y=-1*(p.height/2+a.height/2+r.value.x)),t});return(t,u)=>(e.openBlock(),e.createElementBlock("div",h,[e.createElementVNode("div",{ref_key:"referenceElementRef",ref:n,onClick:u[0]||(u[0]=()=>{d.value=!d.value,t.$emit(d.value?"open":"close")})},[e.renderSlot(t.$slots,"reference",{},void 0,!0)],512),d.value?(e.openBlock(),e.createElementBlock("div",m,[n.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"absolute h-0 w-0",style:e.normalizeStyle(`transform: translateX(${Math.round(e.unref(f).arrow.x)}px) translateY(${Math.round(e.unref(f).arrow.y)}px);`)},[e.renderSlot(t.$slots,"arrow",{},()=>[e.createElementVNode("div",{class:e.normalizeClass(["border-solid",[`border-[${c.arrowSize}px]`,{dark:"border-slate-900",light:"border-gray-300"}[o.color],{top:"border-b-transparent border-x-transparent",right:"border-l-transparent border-y-transparent",bottom:"border-t-transparent border-x-transparent",left:"border-r-transparent border-y-transparent"}[o.side]]]),style:e.normalizeStyle({"border-width":`${c.arrowSize}px`})},null,6)],!0)],4)):e.createCommentVNode("",!0),n.value?(e.openBlock(),e.createElementBlock("div",{key:1,ref_key:"tooltipRef",ref:l,class:"absolute",style:e.normalizeStyle(`transform: translateX(${Math.round(e.unref(f).tooltip.x)}px) translateY(${Math.round(e.unref(f).tooltip.y)}px);`)},[e.renderSlot(t.$slots,"float",{},()=>[e.createElementVNode("div",{class:e.normalizeClass(["px-1 py-2 rounded-lg text-sm w-52",{dark:"bg-slate-900 text-white",light:"bg-gray-300 text-slate-900"}[o.color]])},[e.renderSlot(t.$slots,"content",{},void 0,!0)],2)],!0)],4)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]))}}),b="",w=((c,o)=>{const r=c.__vccOpts||c;for(const[d,l]of o)r[d]=l;return r})(y,[["__scopeId","data-v-76ee325a"]]);s.FloatMyVue=w,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
