(function(n,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.FloatMyVue={},n.Vue))})(this,function(n,e){"use strict";const h={class:"relative"},m={key:0,class:"absolute"},y=e.defineComponent({__name:"FloatMyVue",props:{color:{default:"dark"},arrowSize:{default:10},offset:{default:()=>({x:0,y:0})},side:{default:"top"},open:{type:Boolean,default:!1}},emits:["open","close"],setup(c){const o=c,r=e.computed(()=>{const t=Object.assign({x:0,y:0},o.offset);return(o.side==="top"||o.side==="bottom")&&(t.x-=2),t}),s=e.ref(!1);e.watch(()=>o.open,t=>s.value=t,{immediate:!0});const a=e.ref(null),i=e.ref(null),p=e.reactive({width:0,height:0}),l=e.reactive({width:0,height:0}),d={};e.watch(()=>a.value,()=>{if(a.value){const t=new ResizeObserver(()=>{a.value&&(p.width=a.value.clientWidth,p.height=a.value.clientHeight)});t.observe(a.value),d.tooltip=()=>a.value&&t.unobserve(a.value)}else d.tooltip?.(),d.tooltip=void 0},{immediate:!0}),e.watch(()=>i.value,()=>{if(i.value&&!d.reference){const t=new ResizeObserver(()=>{l.width=i.value.clientWidth,l.height=i.value.clientHeight});t.observe(i.value),d.reference=()=>t.unobserve(i.value)}},{immediate:!0}),e.onBeforeUnmount(()=>{d.tooltip?.(),d.reference?.()});const f=e.computed(()=>{const t={arrow:{x:0,y:0},tooltip:{x:0,y:0}};return o.side==="top"||o.side==="bottom"?(t.arrow.x=-1*(o.arrowSize-l.width/2+r.value.x),t.arrow.y=-1*(o.arrowSize+(o.side==="top"?l.height:0)+r.value.y),t.tooltip.x=-1*(p.width/2-l.width/2+r.value.x),o.side==="top"?t.tooltip.y=-1*(l.height+p?.height+o.arrowSize+r.value.y-1):t.tooltip.y=-1*(r.value.y-o.arrowSize)):(t.arrow.x=-1*(o.arrowSize-(o.side==="right"?l.width:0)+r.value.x),t.arrow.y=-1*(o.arrowSize+l.height/2+r.value.x),o.side==="right"?t.tooltip.x=-1*(r.value.x-l.width-o.arrowSize):t.tooltip.x=-1*(p.width+o.arrowSize+r.value.x),t.tooltip.y=-1*(p.height/2+l.height/2+r.value.x)),t});return(t,u)=>(e.openBlock(),e.createElementBlock("div",h,[e.createElementVNode("div",{ref_key:"referenceElementRef",ref:i,onClick:u[0]||(u[0]=()=>{s.value=!s.value,t.$emit(s.value?"open":"close")})},[e.renderSlot(t.$slots,"reference",{},void 0,!0)],512),s.value?(e.openBlock(),e.createElementBlock("div",m,[i.value?(e.openBlock(),e.createElementBlock("div",{key:0,"data-testid":"arrow-translate",class:"absolute h-0 w-0",style:e.normalizeStyle(`transform: translateX(${Math.round(e.unref(f).arrow.x)}px) translateY(${Math.round(e.unref(f).arrow.y)}px);`)},[e.renderSlot(t.$slots,"arrow",{},()=>[e.createElementVNode("div",{role:"presentation","data-testid":"arrow-default",class:e.normalizeClass(["border-solid",[`border-[${c.arrowSize}px]`,{dark:"border-slate-900",light:"border-gray-300"}[o.color],{top:"border-b-transparent border-x-transparent",right:"border-l-transparent border-y-transparent",bottom:"border-t-transparent border-x-transparent",left:"border-r-transparent border-y-transparent"}[o.side]]]),style:e.normalizeStyle({"border-width":`${c.arrowSize}px`,"clip-path":`polygon(${{top:"0% 0%, 50% 50%, 100% 0%",right:"100% 0%, 50% 50%, 100% 100%",bottom:"0% 100%, 50% 50%, 100% 100%",left:"0% 0%, 50% 50%, 0% 100%"}[o.side]});`})},null,6)],!0)],4)):e.createCommentVNode("",!0),i.value?(e.openBlock(),e.createElementBlock("div",{key:1,"data-testid":"tooltip-translate",ref_key:"tooltipRef",ref:a,class:"absolute",style:e.normalizeStyle(`transform: translateX(${Math.round(e.unref(f).tooltip.x)}px) translateY(${Math.round(e.unref(f).tooltip.y)}px);`)},[e.renderSlot(t.$slots,"float",{},()=>[e.createElementVNode("div",{role:"tooltip","data-testid":"tooltip-default",class:e.normalizeClass(["px-1 py-2 rounded-lg text-sm w-52",{dark:"bg-slate-900 text-white",light:"bg-gray-300 text-slate-900"}[o.color]])},[e.renderSlot(t.$slots,"content",{},void 0,!0)],2)],!0)],4)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]))}}),b="",w=((c,o)=>{const r=c.__vccOpts||c;for(const[s,a]of o)r[s]=a;return r})(y,[["__scopeId","data-v-dcbfa26f"]]);n.FloatMyVue=w,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
